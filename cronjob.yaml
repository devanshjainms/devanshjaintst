# This file is used to create cronjobs in kubernetes backend-printing service.
# The cronjobs are used to run the fetchprintjobs and sendprintjobs scripts every minute.

apiVersion: batch/v1
kind: CronJob
metadata:
  name: fetchprintjobs
spec:
  schedule: "*/1 * * * *" 
  jobTemplate:
    spec:
      template:
        spec:
          serviceAccountName: my-service-account
          containers:
          - name: fetchprintjobs
            image: 
            command: ["python", "-m", "src.fetchprintjobs"]
          restartPolicy: OnFailure

---

apiVersion: batch/v1
kind: CronJob
metadata:
  name: sendprintjobs
spec:
  schedule: "*/1 * * * *"
  jobTemplate:
    spec:
      template:
        spec:
          serviceAccountName: my-service-account
          containers:
          - name: sendprintjobs
            image: 
            command: ["python", "-m", "src.sendprintjobs"]
          restartPolicy: OnFailure
